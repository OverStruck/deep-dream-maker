class fakeApi {
    constructor() {
        this.progress = 0;
        this.image = 0;
        this.fakeUrl = 0;

        this.fakeProgress = [
            25, 50, 75, 100
        ]

        this.fakeGetPreviewImageResponse = [
            {
                progress: 25,
                image: "/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAAuAC4DASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDnNUjXezIu0dQPT1rESyku23SYSPPHqfpXSahNDNDHKeS+RgDqP8mqv2aVYRIYznHyr1x9fSvmsM5KGp9/iKi2Mk6QoGUmOR/eGR+lEFm4JEkkWM9dpJ/X6GtX7DM8ixRxN5pUOFxyy+vrVdUYTMjj5tuMH1ByP610Nu2pz3nBaaGTeWptysineGyAfQ46VRXY6q0gZ/lAIJxg11n9ny3MixLHuZm3qDxuwO3r36e9czf276ddGFgSPUjBz3B961g7rQJt7nSIubrahyIxkuf89+v41O2oGFuCpY9tpOarp+7gY9ccH61zt3ezSyOolcIDjCsRn/Gs4QbCMLvmkdYmtSxyblSPzVQgNnadvcDrTP7RlknWSRQSOgVRxXMRm4SJWa5VFJyA7ZP4Vp6eskrqLiaII38QHNOacVe50rDyl3/r5/odI+qiRY7jyAJohtRm6gfrXP30c15cGWaPzGf5sjitCIuB/osW/nnd0/Xir1zKUsreUwqnATaOe3U/5/nXLUrvSxrHDyhpIy5mDM4HTOQPUVknS0klJRsnOdvpWnkhUY9CoYDPamlo2YKUBJ6ZGa3U2tjijNxRnT6aZ2X5pFKrj5U3DH51r2LeTJEkdmZCu0BSeuBjp+FRGMN95EbHHNTQPJandGQh/wBkVNR88bM09u1LmtqbkfmRo8tzZG2UfNycjvnpT1eC5s41yCFwOfbisa91S7u7dY5ZMoh3AY71euLKPSrl7LJkKkk44UY445rzp0bL3tJdLeRtTrc8rH//2Q==",
                done: false
            },

            {
                progress: 50,
                image: "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",
                done: false
            },
            {
                progress: 75,
                image: "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",
                done: false
            },
            { image: "", done: false },
            {
                progress: 100,
                image: "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",
                done: false
            },
            { done: true }
        ]

        this.fakeUrls = [
            "blob:http://localhost:7777/4665ac97-7c9f-4a58-807c-a78960e51fa7",
            "blob:http://localhost:7777/febcc8e7-8311-4900-acd9-8062d1eb8e52",
            "blob:http://localhost:7777/553542b6-1fce-4049-aacd-ac7f76c67088",
            "blob:http://localhost:7777/61f90268-c749-47a9-9b18-ae43e4a40b52",
        ]
    }

    getProgress(index) {
        return this.fakeProgress[index];
    }

    getUrl(index) {
        return this.fakeUrls[index];
    }

    getResponse(index) {
        this.fakeGetPreviewImageResponse[index];
    }

    createObjectURL(data) {
        return this.fakeUrls[this.fakeUrl++];
    }

    async fetch(url) {

        let response;
        switch (url.split("/")[5]) {
            case "processImage":
                response = {
                    message: "Processing image, this may take a while...",
                    fileName: "DeepDream_test.jpg",
                }
                break;
            case "getProgress":
                response = { progress: this.fakeProgress[this.progress++] };
                break;
            case "getPreviewImage":
                response = this.fakeGetPreviewImageResponse[this.image++];
                break;
            case "stopDream":
                response = {message: "Dream stopped :("}
                break;
            case "downloadDream":
                response = {};
                break;
            default:
                throw new Error("You broke something :o");
        }

        return {
            ok: true,
            status: 200,
            json: async () => response
        }
    }
}

export default fakeApi;

